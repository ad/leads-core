import{r as d,u as W,m as B,w as V,T as q,g as Z,s as X,a as $,b as G,i as Y,j as p,c as i,S as b,d as x,e as C,E as K,L as D,C as Q}from"./main-DZtFyw_i.js";import{S as J,a as ee,u as te}from"./UpdateWidget-DzwVJC7g.js";import"./useNotice-BOS9QkiF.js";function H(){return H=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)({}).hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},H.apply(null,arguments)}const I=e=>d.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 16 16",fill:"none",...e},d.createElement("path",{d:"M2.07516 8.4C1.97495 8.2 1.97495 7.9 2.07516 7.6C2.17537 7.5 2.17537 7.4 2.27558 7.3L5.28184 4.3C5.68267 3.9 6.28393 3.9 6.68476 4.3C7.0856 4.7 7.0856 5.3 6.68476 5.7L5.38205 7H12.9979C13.5992 7 14 7.4 14 8C14 8.6 13.5992 9 12.9979 9H5.38205L6.68476 10.3C7.0856 10.7 7.0856 11.3 6.68476 11.7C6.48434 11.9 6.28393 12 5.9833 12C5.68267 12 5.48226 11.9 5.28184 11.7L2.27558 8.7C2.17537 8.6 2.07516 8.5 2.07516 8.4Z",fill:"currentColor"})),ae=e=>d.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 16 16",fill:"none",...e},d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 2C8.69378 2 7.58254 2.83481 7.17071 4H0L0 6H7.17071C7.58254 7.16519 8.69378 8 10 8C11.6569 8 13 6.65685 13 5C13 3.34315 11.6569 2 10 2ZM11 5C11 5.55228 10.5523 6 10 6C9.44771 6 9 5.55228 9 5C9 4.44772 9.44771 4 10 4C10.5523 4 11 4.44772 11 5Z",fill:"currentColor"}),d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5 8C3.69378 8 2.58254 8.83481 2.17071 10H0L0 12H2.17071C2.58254 13.1652 3.69378 14 5 14C6.65685 14 8 12.6569 8 11C8 9.34315 6.65685 8 5 8ZM6 11C6 11.5523 5.55228 12 5 12C4.44772 12 4 11.5523 4 11C4 10.4477 4.44772 10 5 10C5.55228 10 6 10.4477 6 11Z",fill:"currentColor"}),d.createElement("path",{d:"M9 10H16V12H9V10Z",fill:"currentColor"}),d.createElement("path",{d:"M14 4H16V6H14V4Z",fill:"currentColor"})),re=e=>d.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 16 16",fill:"none",...e},d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 9V13C7 13.2652 7.10537 13.5196 7.29291 13.7071C7.48044 13.8946 7.73478 14 8 14C8.26522 14 8.51956 13.8946 8.70709 13.7071C8.89463 13.5196 9 13.2652 9 13V9H13C13.2652 9 13.5196 8.89463 13.7071 8.70709C13.8946 8.51956 14 8.26522 14 8C14 7.73478 13.8946 7.48044 13.7071 7.29291C13.5196 7.10537 13.2652 7 13 7H9V3C9 2.73478 8.89463 2.48044 8.70709 2.29291C8.51956 2.10537 8.26522 2 8 2C7.73478 2 7.48044 2.10537 7.29291 2.29291C7.10537 2.48044 7 2.73478 7 3V7H3C2.73478 7 2.48044 7.10537 2.29291 7.29291C2.10537 7.48044 2 7.73478 2 8C2 8.26522 2.10537 8.51956 2.29291 8.70709C2.48044 8.89463 2.73478 9 3 9H7Z",fill:"currentColor"})),ie=(e,t)=>{var o;const{data:a,isLoading:s,error:n}=W({page:e,per_page:t});return{widgets:(a==null?void 0:a.widgets)||[],isLoading:s,error:n,total:((o=a==null?void 0:a.widgets)==null?void 0:o.length)||0,meta:(a==null?void 0:a.meta)||{page:1,per_page:20,total:0,has_more:!1}}};var ne=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,se=B(function(e){return ne.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),oe=se,le=function(t){return t!=="theme"},F=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?oe:le},O=function(t,a,s){var n;if(a){var o=a.shouldForwardProp;n=t.__emotion_forwardProp&&o?function(r){return t.__emotion_forwardProp(r)&&o(r)}:o}return typeof n!="function"&&s&&(n=t.__emotion_forwardProp),n},de=function(t){var a=t.cache,s=t.serialized,n=t.isStringTag;return $(a,s,n),G(function(){return Y(a,s,n)}),null},E=function e(t,a){var s=t.__emotion_real===t,n=s&&t.__emotion_base||t,o,r;a!==void 0&&(o=a.label,r=a.target);var h=O(t,a,s),_=h||F(n),f=!_("as");return function(){var g=arguments,c=s&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(o!==void 0&&c.push("label:"+o+";"),g[0]==null||g[0].raw===void 0)c.push.apply(c,g);else{var y=g[0];c.push(y[0]);for(var N=g.length,S=1;S<N;S++)c.push(g[S],y[S])}var u=V(function(m,v,L){var R=f&&m.as||n,k="",j=[],T=m;if(m.theme==null){T={};for(var M in m)T[M]=m[M];T.theme=d.useContext(q)}typeof m.className=="string"?k=Z(v.registered,j,m.className):m.className!=null&&(k=m.className+" ");var z=X(c.concat(j),v.registered,T);k+=v.key+"-"+z.name,r!==void 0&&(k+=" "+r);var U=f&&h===void 0?F(R):_,P={};for(var A in m)f&&A==="as"||U(A)&&(P[A]=m[A]);return P.className=k,L&&(P.ref=L),d.createElement(d.Fragment,null,d.createElement(de,{cache:v,serialized:z,isStringTag:typeof R=="string"}),d.createElement(R,P))});return u.displayName=o!==void 0?o:"Styled("+(typeof n=="string"?n:n.displayName||n.name||"Component")+")",u.defaultProps=t.defaultProps,u.__emotion_real=u,u.__emotion_base=n,u.__emotion_styles=c,u.__emotion_forwardProp=h,Object.defineProperty(u,"toString",{value:function(){return"."+r}}),u.withComponent=function(m,v){var L=e(m,H({},a,v,{shouldForwardProp:O(u,v,!0)}));return L.apply(void 0,c)},u}};const ce=E(I,{target:"e1rc0mgu3"})({name:"21xn5r",styles:"transform:rotate(180deg)"}),me=E("div",{target:"e1rc0mgu2"})({name:"ftthj2",styles:"margin-top:20px;margin-bottom:20px;display:flex;justify-content:center;gap:5px"}),ue=E("span",{target:"e1rc0mgu1"})({name:"1csi6uz",styles:"padding:5px 10px"}),ge=E(x,{target:"e1rc0mgu0"})("",({active:e})=>({backgroundColor:e?"#E1EFFF !important":"transparent"}),""),he=({currentPage:e,pageCount:t,setCurrentPage:a})=>{if(t<=1)return null;const s=()=>{const r=[];r.push(1);const h=e>3,_=e<t-2;h&&r.push("...");const f=Math.max(2,e-1),g=Math.min(t-1,e+1);for(let c=f;c<=g;c++)r.push(c);return _&&r.push("..."),t>1&&r.push(t),r},n=r=>{typeof r=="number"&&r!==e&&a(r)},o=s();return p(me,{children:[i(x,{appearance:"secondary-ghost",disabled:e===1,icon:I,onClick:()=>a(e-1),size:b.small}),o.map((r,h)=>typeof r=="string"?i(ue,{children:"…"},`dots-${h}`):i(ge,{active:e===r,appearance:"secondary-ghost",onClick:()=>n(r),size:b.small,children:r},r)),i(x,{appearance:"secondary-ghost",disabled:e===t,icon:ce,onClick:()=>a(e+1),size:b.small})]})},pe="_widgets_7rjay_1",fe="_title_7rjay_7",ye="_quantity_7rjay_16",ve="_header_7rjay_25",Ce="_titleContainer_7rjay_38",_e="_createButton_7rjay_44",we="_widgetsList_7rjay_48",be="_widgetCard_7rjay_57",xe="_widgetCardHeader_7rjay_67",ke="_subtitle_7rjay_78",Se="_widgetCardTitle_7rjay_88",Le="_widgetCardTitleActive_7rjay_98",Te="_emptyList_7rjay_102",Pe="_errorList_7rjay_103",Ae="_loadingList_7rjay_104",l={widgets:pe,title:fe,quantity:ye,header:ve,titleContainer:Ce,createButton:_e,widgetsList:we,widgetCard:be,widgetCardHeader:xe,subtitle:ke,widgetCardTitle:Se,widgetCardTitleActive:Le,emptyList:Te,errorList:Pe,loadingList:Ae},Ee=({widget:e,onToggleActive:t,isUpdating:a=!1})=>p("div",{className:l.widgetCard,children:[p("div",{className:l.widgetCardHeader,children:[i("span",{className:l.subtitle,children:e.type}),i("h3",{className:C(l.widgetCardTitle,{[l.widgetCardTitleActive]:e.isActive}),children:e.name})]}),p("div",{children:[i(x,{appearance:"tertiary-ghost",disabled:a,icon:e.isActive?J:ee,onClick:()=>t(!e.isActive),size:b.small}),i(D,{to:`${K}/${e.id}`,children:i(x,{appearance:"secondary-ghost",icon:ae,size:b.small})})]})]}),Ne=d.memo(({className:e,...t})=>{const[a,s]=d.useState(1),{widgets:n,meta:o,isLoading:r,error:h,total:_}=ie(a,20),{updateWidgetData:f,isLoading:g}=te(),c=()=>r?i("div",{className:C(l.widgetsList,{},[l.loadingList]),children:"Загружаем виджеты..."}):h?i("div",{className:C(l.widgetsList,{},[l.errorList]),children:"Ошибка загрузки виджетов"}):n.length===0?i("div",{className:C(l.widgetsList,{},[l.emptyList]),children:"Создавайте виджеты и они появятся здесь!"}):i("div",{className:C(l.widgetsList,{},[e]),children:n.map(y=>i(Ee,{isUpdating:g,onToggleActive:N=>f(y.id,N,y.name),widget:y},y.id))});return p("div",{className:C(l.widgets,{},[e]),...t,children:[p("div",{className:l.header,children:[p("div",{className:l.titleContainer,children:[i("h2",{className:l.title,children:"Виджеты"}),i("span",{className:l.quantity,children:_})]}),i(D,{className:l.createButton,"data-testid":"create-widget-link",to:Q,children:i(x,{appearance:"primary",icon:re,size:b.small,children:"Виджет"})})]}),c(),o.total>0&&i(he,{currentPage:o.page,pageCount:o.total,setCurrentPage:s})]})}),Re="_summary_1egou_1",He="_title_1egou_6",je="_dashboard_1egou_18",Me="_mainContent_1egou_25",ze="_sidebar_1egou_29",w={summary:Re,title:He,dashboard:je,mainContent:Me,sidebar:ze},Ie=d.memo(({className:e,...t})=>p("div",{className:C(w.summary,{},[e]),...t,children:[i("h1",{className:w.title,children:"Сводка"}),p("div",{className:w.dashboard,children:[i("div",{className:w.mainContent,children:i(Ne,{})}),i("aside",{className:w.sidebar,children:i("div",{className:w.placeholder,children:"Здесь будет StatisticsDashboard виджет"})})]})]}));export{Ie as default};
